/* 1. Imports must always be at the top to avoid errors */
@import './components/custom-scrollbar.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .btn {
    @apply bg-primary text-white px-5 py-2.5 border-none rounded cursor-pointer no-underline inline-block transition-colors duration-200;
  }
  
  .btn:hover {
    @apply bg-primary-hover;
  }
  
  .btn:disabled {
    @apply bg-secondary cursor-not-allowed;
  }
  
  .btn-secondary {
    @apply bg-secondary text-white;
  }
  
  .btn-secondary:hover {
    @apply bg-gray-600;
  }
  
  .form-group {
    @apply mb-4;
  }
  
  .form-input {
    @apply w-full px-2 py-2 border border-gray-300 rounded focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary focus:ring-opacity-25 box-border;
  }
  
  .form-label {
    @apply block mb-1 font-medium;
  }
  
  .alert {
    @apply p-2.5 mb-4 rounded;
  }
  
  .alert-error {
    @apply bg-red-100 text-red-800 border border-red-300;
  }
  
  .alert-success {
    @apply bg-green-100 text-green-800 border border-green-300;
  }
  
  .message {
    @apply mb-2.5 p-2.5 rounded-lg;
  }
  
  .user-message {
    @apply bg-primary text-white text-right;
  }
  
  .bot-message {
    @apply bg-gray-200 text-gray-800;
  }
  
  .container {
    @apply max-w-4xl mx-auto bg-white p-5 rounded-lg shadow-lg;
  }
}

/* 1. Imports MUST be at the very top */
@import './components/custom-scrollbar.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .btn { @apply bg-primary text-white px-5 py-2.5 border-none rounded cursor-pointer no-underline inline-block transition-colors duration-200; }
  .btn:hover { @apply bg-primary-hover; }
  .btn:disabled { @apply bg-secondary cursor-not-allowed; }
  .btn-secondary { @apply bg-secondary text-white; }
  .btn-secondary:hover { @apply bg-gray-600; }
  .form-group { @apply mb-4; }
  .form-input { @apply w-full px-2 py-2 border border-gray-300 rounded focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary focus:ring-opacity-25 box-border; }
  .form-label { @apply block mb-1 font-medium; }
  .alert { @apply p-2.5 mb-4 rounded; }
  .alert-error { @apply bg-red-100 text-red-800 border border-red-300; }
  .alert-success { @apply bg-green-100 text-green-800 border border-green-300; }
  .message { @apply mb-2.5 p-2.5 rounded-lg; }
  .user-message { @apply bg-primary text-white text-right; }
  .bot-message { @apply bg-gray-200 text-gray-800; }
  .container { @apply max-w-4xl mx-auto bg-white p-5 rounded-lg shadow-lg; }
}

/* FINAL PRINT FIX */
@media print {
  /* 1. Reset standard page margins */
  @page {
    margin: 15mm;
  }

  /* 2. Hide background UI */
  body {
    visibility: hidden !important;
    background: white !important;
  }

  /* 3. Force the report wrapper to be visible and start at the top */
  .print-wrapper {
    visibility: visible !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    display: block !important;
    background: white !important;
  }

  /* 4. Strip modal restrictions from the report container */
  /* This ensures the "Care Advice" at the bottom isn't cut off */
  .max-w-5xl {
    visibility: visible !important;
    display: block !important;
    position: relative !important;
    width: 100% !important;
    max-width: none !important;
    height: auto !important;
    max-height: none !important; 
    overflow: visible !important; 
    margin: 0 !important;
    padding: 0 !important;
    box-shadow: none !important;
    background-color: white !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* 5. Ensure all text and images inside are visible */
  .max-w-5xl * {
    visibility: visible !important;
  }

  /* 6. Clean up UI elements */
  .no-print, 
  button, 
  [aria-label="Close"],
  .sticky {
    display: none !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* 7. Prevent half-cut sections (Prevent Care Advice splitting weirdly) */
  h3, h4, .diagnoses-item, .grid {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }
}